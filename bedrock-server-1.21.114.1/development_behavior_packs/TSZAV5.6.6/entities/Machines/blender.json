{
   "format_version":"1.21.0",
   "minecraft:entity":{
      "description":{
         "identifier":"true:blender",
         "spawn_category":"creature",
         "is_spawnable":true,
         "is_summonable":true
      },
      "component_groups":{
         "true:blender_off":{
            "minecraft:variant":{
               "value":0
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "hurt_item":1,
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"has_tag",
                                 "subject":"other",
                                 "operator":"equals",
                                 "value":"breaking_tool"
                              }
                           ]
                        },
                        "event":"true:pick_up",
                        "target":"self"
                     },
                     "add_items":{
                        "table":"loot_tables/pick_ups/blender.json"
                     },
                     "use_item":false,
                     "play_sounds":"saddle",
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            },
            "minecraft:environment_sensor":{
               "triggers":[
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"is_brightness",
                              "operator":">",
                              "value":0.49
                           }
                        ]
                     },
                     "event":"true:power_on"
                  }
               ]
            }
         },
         "true:blender_on":{
            "minecraft:variant":{
               "value":1
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"has_equipment",
                                 "subject":"other",
                                 "domain":"hand",
                                 "value":"true:zombie_heart"
                              }
                           ]
                        },
                        "event":"true:insert_heart",
                        "target":"self"
                     },
                     "use_item":true,
                     "play_sounds":"tripod",
                     "interact_text":"action.interact.insert_heart"
                  },
                  {
                     "hurt_item":1,
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"has_tag",
                                 "subject":"other",
                                 "operator":"equals",
                                 "value":"breaking_tool"
                              }
                           ]
                        },
                        "event":"true:pick_up",
                        "target":"self"
                     },
                     "add_items":{
                        "table":"loot_tables/pick_ups/blender.json"
                     },
                     "use_item":false,
                     "play_sounds":"saddle",
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            },
            "minecraft:environment_sensor":{
               "triggers":[
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"is_brightness",
                              "operator":"<",
                              "value":0.49
                           }
                        ]
                     },
                     "event":"true:power_off"
                  }
               ]
            }
         },
         "true:blender_active":{
            "minecraft:variant":{
               "value":2
            },
            "minecraft:is_sheared":{
               
            },
            "minecraft:timer":{
               "looping":false,
               "randomInterval":false,
               "time":20,
               "time_down_event":{
                  "event":"true:blender_finished"
               }
            }
         },
         "true:blender_complete":{
            "minecraft:variant":{
               "value":3
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"has_equipment",
                                 "subject":"other",
                                 "domain":"hand",
                                 "value":"true:beaker_empty"
                              }
                           ]
                        },
                        "event":"true:blood_collected",
                        "target":"self"
                     },
                     "use_item":true,
                     "play_sounds":"twinkle",
                     "transform_to_item":"true:beaker_of_blood",
                     "interact_text":"action.interact.collect_blood"
                  }
               ]
            }
         },
         "true:despawn":{
            "minecraft:transformation":{
               "into":"true:despawn"
            }
         }
      },
      "components":{
         "minecraft:type_family":{
            "family":[
               "blender"
            ]
         },
         "minecraft:collision_box":{
            "width":0.6,
            "height":0.8
         },
         "minecraft:damage_sensor":{
            "triggers":[
               {
                  "on_damage":{
                     "filters":{
                        "test":"is_family",
                        "subject":"other",
                        "value":"player"
                     }
                  },
                  "deals_damage":false
               }
            ]
         },
         "minecraft:health":{
            "value":9999,
            "max":9999
         },
         "minecraft:scale":{
            "value":0.6
         },
         "minecraft:knockback_resistance":{
            "value":100,
            "max":100
         },
         "minecraft:physics":{
            
         }
      },
      "events":{
         "minecraft:entity_spawned":{
            "add":{
               "component_groups":[
                  "true:blender_off"
               ]
            }
         },
         "true:power_on":{
            "remove":{
               "component_groups":[
                  "true:blender_off"
               ]
            },
            "add":{
               "component_groups":[
                  "true:blender_on"
               ]
            }
         },
         "true:power_off":{
            "remove":{
               "component_groups":[
                  "true:blender_on"
               ]
            },
            "add":{
               "component_groups":[
                  "true:blender_off"
               ]
            }
         },
         "true:insert_heart":{
            "remove":{
               "component_groups":[
                  "true:blender_on"
               ]
            },
            "add":{
               "component_groups":[
                  "true:blender_active"
               ]
            }
         },
         "true:blender_finished":{
            "remove":{
               "component_groups":[
                  "true:blender_active"
               ]
            },
            "add":{
               "component_groups":[
                  "true:blender_complete"
               ]
            }
         },
         "true:blood_collected":{
            "remove":{
               "component_groups":[
                  "true:blender_complete"
               ]
            },
            "add":{
               "component_groups":[
                  "true:blender_on"
               ]
            }
         },
         "true:pick_up":{
            "add":{
               "component_groups":[
                  "true:despawn"
               ]
            }
         }
      }
   }
}