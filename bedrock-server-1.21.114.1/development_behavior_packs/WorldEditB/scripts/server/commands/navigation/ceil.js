import{PlayerUtil as c}from"server/modules/player_util.js";import{RawText as s}from"library/Minecraft.js";import{registerCommand as m}from"../register_commands.js";import{getWorldHeightLimits as l}from"server/util.js";const f={name:"ceil",permission:"worldedit.navigation.ceiling",description:"commands.wedit:ceiling.description",usage:[{name:"clearance",type:"int",range:[0,null],default:0}]};m(f,function(d,n,a){let r=a.get("clearance");const i=n.dimension,o=l(i),e=c.getBlockLocation(n).offset(0,2,0);for(let t=0;;t++,e.y++){if(e.y>o[1])throw s.translate("commands.wedit:ascend.obstructed");if(e.y>=o[0]&&!i.getBlock(e).isAir){r>t&&(r=t);break}}if(e.y-=r+3,e.y>=o[0]&&e.y<=o[1]){const t=i.getBlock(e);t.isAir&&t.setType("minecraft:glass")}return n.teleport(e.offset(.5,1,.5),{dimension:i}),s.translate("commands.wedit:up.explain")});
