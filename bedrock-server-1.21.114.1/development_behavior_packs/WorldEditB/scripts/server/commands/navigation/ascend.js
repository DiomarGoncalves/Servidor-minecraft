import{PlayerUtil as s}from"server/modules/player_util.js";import{RawText as r}from"library/Minecraft.js";import{registerCommand as a}from"../register_commands.js";import{getWorldHeightLimits as m}from"server/util.js";const c={name:"ascend",permission:"worldedit.navigation.ascend",description:"commands.wedit:ascend.description",usage:[{name:"levels",type:"int",range:[1,null],default:1}]};function l(n){const t=n.dimension,o=m(t),e=s.getBlockLocation(n);for(e.y=Math.max(o[0],e.y);;e.y++){if(e.y>o[1])return!1;if(!t.getBlock(e).isAir&&!(e.y+1<=o[1]&&!t.getBlock(e.offset(0,1,0)).isAir)&&!(e.y+2<=o[1]&&!t.getBlock(e.offset(0,2,0)).isAir))return n.teleport(e.offset(.5,1,.5),{dimension:t}),!0}}a(c,function(n,t,o){const e=o.get("levels");let i=0;for(;l(t)&&(i++,i!=e););if(i==0)throw r.translate("commands.wedit:ascend.obstructed");return r.translate("commands.wedit:thru.explain")});
