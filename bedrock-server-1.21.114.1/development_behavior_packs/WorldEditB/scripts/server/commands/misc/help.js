import{Server as o}from"library/Minecraft.js";import{getCommandInfo as $,registerCommand as C}from"../register_commands.js";import{RawText as g}from"library/Minecraft.js";const I={name:"help",permission:"worldedit.help",description:"commands.help.description",usage:[{subName:"_page",args:[{name:"page",type:"int",default:1}]},{subName:"_command",args:[{name:"command",type:"CommandName"}]}],aliases:["?"]};C(I,function(A,l,i){const u=o.command.getAllRegistation();if(i.has("_page")){const t=[];for(const e of u){const a=o.command.printCommandArguments(e.name,l);for(const f of a)if(t.push([e.name,f]),e.aliases)for(const w of e.aliases)t.push([w,f])}t.sort((e,a)=>e[0]<a[0]?-1:e[0]>a[0]?1:e[1]<a[1]?-1:1);const s=7,d=Math.ceil(t.length/s),x=Math.max(i.get("page"),1),r=(Math.min(x,d)-1)*s,c=g.text("\xA72").append("translate","commands.wedit:help.header").with(`${r/s+1}`).with(`${d}`).append("text","\xA7r");for(let e=r;e<Math.min(r+s,t.length);e++){const a=t[e];c.append("text",`
${o.command.prefix}${a[0]} ${a[1]}`)}return c}const n=$(i.get("command")),m=g.text(`
\xA7e`);n.aliases?m.append("translate","commands.help.command.aliases").with(n.name).with(n.aliases.join(", ")):m.append("text",n.name+":"),n.description&&m.append("text",`
`).append("translate",n.description).append("text",`
\xA7r`);const h=o.command.printCommandArguments(n.name);let p="";for(const t of h)p+=`
- ${o.command.prefix}${n.name} ${t}`;return m.append("translate","commands.generic.usage").with(p),m});
