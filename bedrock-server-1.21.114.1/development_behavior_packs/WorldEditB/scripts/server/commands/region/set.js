import{assertSelection as m}from"server/modules/assert.js";import{Jobs as l}from"server/modules/jobs.js";import{RawText as a}from"library/Minecraft.js";import{registerCommand as c}from"../register_commands.js";const s={name:"set",permission:"worldedit.region.set",description:"commands.wedit:set.description",usage:[{name:"pattern",type:"Pattern"}]};function*d(t,r,e,n=!1){const[o,i]=t.selection.getShape();return yield*o.generate(i,r,e,t,{recordHistory:n,ignoreGlobalMask:!0})}c(s,function*(t,r,e){if(m(t),e.get("_using_item")&&t.globalPattern.empty())throw a.translate("worldEdit.selectionFill.noPattern");const n=e.get("_using_item")?t.globalPattern:e.get("pattern"),o=yield*l.run(t,2,d(t,n,null,!0));return a.translate("commands.blocks.wedit:changed").with(`${o}`)});export{d as set};
