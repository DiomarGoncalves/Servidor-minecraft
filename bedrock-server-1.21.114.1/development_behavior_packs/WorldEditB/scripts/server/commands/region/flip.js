import{registerCommand as l}from"../register_commands.js";import{assertClipboard as c}from"server/modules/assert.js";import{Cardinal as a}from"server/modules/directions.js";import{RawText as f,Vector as p}from"library/Minecraft.js";import{transformSelection as d}from"./transform_func.js";import{Jobs as s}from"server/modules/jobs.js";const g={name:"flip",permission:"worldedit.region.flip",description:"commands.wedit:flip.description",usage:[{flag:"o"},{flag:"w"},{flag:"s"},{name:"direction",type:"Direction",default:new a(a.Dir.LEFT)}]};l(g,function*(o,n,t){const r=t.get("direction").getDirection(n),i=p.ONE;r.x&&(i.x*=-1),r.y&&(i.y*=-1),r.z&&(i.z*=-1);let e=0;if(t.has("w"))yield*s.run(o,4,d(o,n,t,{scale:i})),e=o.selection.getBlockCount();else{c(o);const m=o.clipboardTransform;m.scale=m.scale.mul(i),e=o.clipboard.getVolume()}return f.translate("commands.wedit:flip.explain").with(e)});
