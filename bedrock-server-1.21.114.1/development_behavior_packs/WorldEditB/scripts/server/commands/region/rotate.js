import{registerCommand as n}from"../register_commands.js";import{RawText as m,Vector as i}from"library/Minecraft.js";import{assertClipboard as d}from"server/modules/assert.js";import{transformSelection as l}from"./transform_func.js";import{Jobs as f}from"server/modules/jobs.js";const p={name:"rotate",permission:"worldedit.region.rotate",description:"commands.wedit:rotate.description",usage:[{flag:"o"},{flag:"w"},{flag:"s"},{name:"rotate",type:"int"},{name:"rotateX",type:"int",default:0},{name:"rotateZ",type:"int",default:0}]};n(p,function*(t,a,o){let e=0;const r=new i(o.get("rotateX"),o.get("rotate"),o.get("rotateZ"));return o.has("w")?(yield*f.run(t,4,l(t,a,o,{rotation:r})),e=t.selection.getBlockCount()):(d(t),t.clipboardTransform.rotation=t.clipboardTransform.rotation.add(r),e=t.clipboard.getVolume()),m.translate("commands.wedit:rotate.explain").with(e)});
