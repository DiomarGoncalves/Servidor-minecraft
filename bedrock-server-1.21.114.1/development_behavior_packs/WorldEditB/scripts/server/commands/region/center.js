import{assertSelection as l}from"server/modules/assert.js";import{Jobs as p}from"server/modules/jobs.js";import{RawText as g,Vector as a}from"library/Minecraft.js";import{registerCommand as f}from"../register_commands.js";import{CuboidShape as s}from"server/shapes/cuboid.js";const u={name:"center",permission:"worldedit.region.center",description:"commands.wedit:center.description",usage:[{name:"pattern",type:"Pattern"}],aliases:["middle"]};f(u,function*(t,w,e){if(l(t),e.get("_using_item")&&t.globalPattern.empty())throw"worldEdit.selectionFill.noPattern";const i=e.get("_using_item")?t.globalPattern:e.get("pattern"),n=t.selection.getRange(),o=a.add(n[0],n[1]).mul(.5),[r,m]=[o.floor().floor(),o.ceil().floor()],c=new s(...a.sub(m,r).add(1).toArray()),d=yield*p.run(t,2,c.generate(r,i,null,t));return g.translate("commands.blocks.wedit:changed").with(`${d}`)});
