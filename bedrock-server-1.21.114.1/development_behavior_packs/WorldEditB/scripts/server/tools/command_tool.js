import{CommandPermissionLevel as o}from"@minecraft/server";import{Server as m}from"library/Minecraft.js";import{Tool as r}from"./base_tool";import{Tools as n}from"./tool_manager";class a extends r{constructor(s){super();this.isCustom=!1;s.startsWith(";")?(this.isCustom=!0,this.command=s.slice(1)):s.startsWith("/")?(this.isCustom=!1,this.command=s.slice(1)):this.command=s}use(s,i){if(this.isCustom){let t=this.command.indexOf(" ");t==-1&&(t=this.command.length);const e=i.usingItem;i.usingItem=!1,m.command.callCommand(s,this.command.substring(0,t).trim(),this.command.substring(t).trim()),i.usingItem=e}else s.commandPermissionLevel>=o.GameDirectors&&m.queueCommand(this.command,s)}toJSON(){return{toolType:this.type,command:(this.isCustom?";":"/")+this.command}}static parseJSON(s){return[s.command]}}n.register(a,"command_wand");
