import{Vector as a}from"library/Minecraft.js";import{Shape as r}from"./base_shape";class p extends r{constructor(e,s,i){super();this.customHollow=!0;this.outerRadius=e,this.innerRadius=s,(i?.x??0)!==0?this.axes=["y","x","z"]:(i?.z??0)!==0?this.axes=["x","z","y"]:this.axes=["x","y","z"]}getRegion(e){const s=new a(-this.outerRadius-this.innerRadius,-this.innerRadius,-this.outerRadius-this.innerRadius),i=new a(this.outerRadius+this.innerRadius,this.innerRadius,this.outerRadius+this.innerRadius);return[e.offset(s[this.axes[0]],s[this.axes[1]],s[this.axes[2]]),e.offset(i[this.axes[0]],i[this.axes[1]],i[this.axes[2]])]}getYRange(){throw Error("YRange not implemented")}getOutline(){const e=this.outerRadius+.5;return this.drawCircle(new a(0,-.5,0),e,"y")}prepGeneration(e,s){e.isHollow=s?.hollow??!1,e.thickness=s?.hollowThickness??1,e.innerRadOff=this.innerRadius+.5,e.outerRadOff=this.outerRadius}inShape(e,s){if(e=new a(Math.hypot(e[this.axes[0]],e[this.axes[2]])-s.outerRadOff,e[this.axes[1]],0),s.isHollow){const n=s.thickness,t=[e.x/(s.innerRadOff-n),e.y/(s.innerRadOff-n)];if(t[0]*t[0]+t[1]*t[1]<1)return!1}const i=[e.x/s.innerRadOff,e.y/s.innerRadOff];return i[0]*i[0]+i[1]*i[1]<=1}}export{p as TorusShape};
