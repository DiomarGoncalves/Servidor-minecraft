import{RawText as t}from"library/Minecraft.js";import{registerCommand as m}from"../register_commands.js";import{Jobs as o}from"server/modules/jobs.js";const r={name:"cancel",permission:"worldedit.cancel",description:"commands.wedit:cancel.description",usage:[{name:"job",type:"int",default:-1}]};m(r,function(a,s,c){const n=c.get("job"),e=o.getJobsForSession(a);if(!e.length)throw"commands.wedit:cancel.none.all";if(n<1){for(const i of e)o.cancelJob(i);return t.translate("commands.wedit:cancel.explain.all").with(e.length)}else{if(e[n-1])return o.cancelJob(e[n-1]),t.translate("commands.wedit:cancel.explain").with(n);throw"commands.wedit:cancel.none"}});
