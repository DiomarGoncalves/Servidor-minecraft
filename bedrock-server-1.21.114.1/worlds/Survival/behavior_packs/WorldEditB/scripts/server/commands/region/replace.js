import{registerCommand as l}from"../register_commands.js";import{Jobs as c}from"server/modules/jobs.js";import{assertSelection as p}from"server/modules/assert.js";import{RawText as n}from"library/Minecraft.js";const d={name:"replace",permission:"worldedit.region.replace",description:"commands.wedit:replace.description",usage:[{name:"mask",type:"Mask"},{name:"pattern",type:"Pattern"}]};l(d,function*(t,g,e){if(p(t),e.get("_using_item")&&t.globalPattern.empty())throw n.translate("worldEdit.selectionFill.noPattern");const o=e.get("_using_item")?t.globalMask:e.get("mask"),a=e.get("_using_item")?t.globalPattern:e.get("pattern"),[r,m]=t.selection.getShape(),i=yield*c.run(t,2,r.generate(m,a,o,t));return n.translate("commands.blocks.wedit:changed").with(`${i}`)});
