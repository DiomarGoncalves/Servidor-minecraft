import{RawText as d}from"library/Minecraft.js";import{registerCommand as u}from"../register_commands.js";const p={name:"butcher",permission:"worldedit.utility.butcher",description:"commands.wedit:butcher.description",usage:[{flag:"p"},{flag:"n"},{flag:"g"},{flag:"a"},{flag:"b"},{flag:"t"},{flag:"r"},{flag:"w"},{flag:"f"},{name:"radius",type:"int",range:[1,null],default:-1}]},h=["minecraft:armadillo","minecraft:cow","minecraft:pig","minecraft:chicken","minecraft:sheep","minecraft:wolf","minecraft:fox","minecraft:rabbit","minecraft:ocelot","minecraft:cat","minecraft:llama","minecraft:goat","minecraft:donkey","minecraft:frog","minecraft:horse","minecraft:mooshroom","minecraft:panda","minecraft:parrot","minecraft:polar_bear"],g=["minecraft:bee","minecraft:bat"];u(p,function(m,o,e){const c=o.dimension,s=e.get("radius")<0?void 0:e.get("radius"),n=e.has("f"),a={p:e.has("p")||n,n:e.has("n")||n,g:e.has("g")||n,a:e.has("a")||n,b:e.has("b")||n,t:e.has("t")||n,w:e.has("w"),r:e.has("r")};let r=!0;for(const t in a)a[t]&&(r=!1);let f=0;const l={excludeTypes:["minecraft:player"],location:m.getPlacementPosition(),maxDistance:s};for(const t of c.getEntities(l)){let i=!1;if((r||a.g&&t.typeId.match(/golem/)||a.t&&t.nameTag||a.r&&t.typeId=="minecraft:armor_stand"||a.n&&t.typeId.match(/(villager)|(wandering_trader)|(npc)/)||a.p&&t.hasComponent("minecraft:is_tamed")||a.a&&h.includes(t.typeId)||a.b&&g.includes(t.typeId)||a.w&&t.matches({families:["aquatic"]}))&&(i=!0),i)try{t.kill(),f++}catch{}}return d.translate("commands.wedit:butcher.explain").with(f)});
