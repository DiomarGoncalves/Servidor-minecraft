import{assertHistoryNotRecording as r}from"server/modules/assert.js";import{RawText as m}from"library/Minecraft.js";import{registerCommand as d}from"../register_commands.js";import{Jobs as s}from"server/modules/jobs.js";const a={name:"undo",permission:"worldedit.history.undo",description:"commands.wedit:undo.description",usage:[{name:"times",type:"int",range:[1,null],default:1}]};d(a,function*(n,u,e){const t=n.history;r(t);let o;return yield*s.run(n,1,function*(){const i=e.get("times");for(o=0;o<i&&!(yield*t.undo());o++);}),m.translate(o==0?"commands.wedit:undo.none":"commands.wedit:undo.explain").with(`${o}`)});
