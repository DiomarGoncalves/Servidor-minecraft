import{registerCommand as n}from"../register_commands.js";import{assertClipboard as s}from"server/modules/assert.js";import{RawText as i,Vector as o}from"library/Minecraft.js";import{transformSelection as r}from"./transform_func.js";import{Jobs as f}from"server/modules/jobs.js";const p={name:"scale",permission:"worldedit.region.scale",description:"commands.wedit:scale.description",usage:[{flag:"o"},{flag:"w"},{flag:"s"},{subName:"_",args:[{name:"scale",type:"float"}]},{subName:"_xy",args:[{name:"scaleXZ",type:"float"},{name:"scaleY",type:"float"}]},{subName:"_xyz",args:[{name:"scaleX",type:"float"},{name:"scaleY",type:"float"},{name:"scaleZ",type:"float"}]}]};n(p,function*(t,m,e){let a;e.has("_xyz")?a=new o(e.get("scaleX"),e.get("scaleY"),e.get("scaleZ")):e.has("_xy")?a=new o(e.get("scaleXZ"),e.get("scaleY"),e.get("scaleXZ")):a=new o(e.get("scale"),e.get("scale"),e.get("scale"));let l=0;if(e.has("w"))yield*f.run(t,4,r(t,m,e,{scale:a})),l=t.selection.getBlockCount();else{s(t);const c=t.clipboardTransform;c.scale=c.scale.mul(a),l=t.clipboard.getVolume()}return i.translate("commands.wedit:scale.explain").with(l)});
