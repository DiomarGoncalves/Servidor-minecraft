import{Vector as a}from"library/Minecraft.js";import{brushTypes as h,Brush as o}from"./base_brush.js";import{CuboidShape as e}from"../shapes/cuboid.js";import{Mask as n}from"server/modules/mask.js";import{smooth as p}from"../commands/region/heightmap_func.js";class m extends o{constructor(i,s,t){super();this.id="raise_brush";this.assertSizeInRange(i),this.shape=new e(i*2+1,i*2+1,i*2+1),this.size=i,this.iterations=s,this.mask=t}resize(i){this.assertSizeInRange(i),this.shape=new e(i*2+1,i*2+1,i*2+1),this.size=i,this.shape.usedInBrush=!0}getSize(){return this.size}getIterations(){return this.iterations}getHeightMask(){return this.mask}paintWith(){throw"commands.generic.wedit:noMaterial"}*apply(i,s,t){const r=i.offset(-this.size,-this.size,-this.size);yield*p(s,this.iterations,this.shape,r,this.mask,t)}getOutline(){return[new e(this.size*2,this.size*2,this.size*2),a.ONE.mul(-this.size)]}toJSON(){return{id:this.id,radius:this.size,iterations:this.iterations,mask:this.mask}}static parseJSON(i){return[i.radius,i.iterations,new n(i.mask)]}}h.set("raise_brush",m);export{m as RaiseBrush};
