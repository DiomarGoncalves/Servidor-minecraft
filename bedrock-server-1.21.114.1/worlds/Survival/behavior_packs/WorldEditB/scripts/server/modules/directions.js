import{RawText as h,Vector as o}from"library/Minecraft.js";import{getViewVector as T}from"server/util";const d=["up","down","left","right","forward","back","north","south","east","west","me"],w=["u","d","l","r","f","b","n","s","e","w","m"],a={u:new o(0,1,0),d:new o(0,-1,0),n:new o(0,0,-1),s:new o(0,0,1),e:new o(1,0,0),w:new o(-1,0,0)},p=Object.entries(a);var m=(e=>(e[e.FORWARD=0]="FORWARD",e[e.BACK=1]="BACK",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.NORTH=4]="NORTH",e[e.SOUTH=5]="SOUTH",e[e.EAST=6]="EAST",e[e.WEST=7]="WEST",e[e.UP=8]="UP",e[e.DOWN=9]="DOWN",e))(m||{});const c=class c{constructor(n=c.Dir.FORWARD){this.Dir=c.Dir;this.direction="me";this.direction={0:"f",1:"b",2:"l",3:"r",4:"n",5:"s",6:"e",7:"w",8:"u",9:"d"}[n]}clone(){const n=new c;return n.direction=this.direction,n}getDirection(n){const i=this.direction.charAt(0);if(a[i])return a[i].clone();if(n){const r=T(n);let t=o.ZERO;const s=[Math.abs(r.x),Math.abs(r.y),Math.abs(r.z)];if(s[0]>s[1]&&s[0]>s[2]?t.x=Math.sign(r.x):s[2]>s[0]&&s[2]>s[1]?t.z=Math.sign(r.z):t.y=Math.sign(r.y),i=="b")t=t.mul(-1);else if(i=="l"||i=="r"){s[0]>s[2]?t=new o(Math.sign(r.x),0,0):t=new o(0,0,Math.sign(r.z));const l=t.x;i=="r"?(t.x=-t.z,t.z=l):(t.x=t.z,t.z=-l)}return t}}getDirectionLetter(){return this.direction}static parseArgs(n,i=0){const r=n[i][0].toLowerCase();if(!d.includes(r)&&!w.includes(r))throw h.translate("commands.generic.wedit:invalidDir").with(n[i]);const t=new c;return t.direction=r,{result:t,argIndex:i+1}}};c.commandEnumValues=[...d,...w],c.Dir=m;let u=c;export{u as Cardinal,p as directionVectors};
