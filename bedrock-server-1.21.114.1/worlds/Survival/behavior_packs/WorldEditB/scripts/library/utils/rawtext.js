import{system as a}from"@minecraft/server";class r{constructor(){this.rawtext=[]}with(t){const e=new r;e.rawtext=this.rawtext,e.lastElementIdx=this.lastElementIdx;const n=e.rawtext[this.lastElementIdx];return n?.translate&&n.with.push(`${t}`),e}prepend(t,e){const n=new r;return n.rawtext=this.rawtext,t=="text"?n.rawtext.unshift({text:e}):n.rawtext.unshift({translate:e,with:[]}),n.lastElementIdx=0,n}append(t,e){const n=new r;return n.rawtext=this.rawtext,t=="text"?n.rawtext.push({text:e}):n.rawtext.push({translate:e,with:[]}),n.lastElementIdx=n.rawtext.length-1,n}static translate(t){const e=new r;return e.rawtext.push({translate:t,with:[]}),e.lastElementIdx=0,e}static text(t){const e=new r;return e.rawtext.push({text:t}),e.lastElementIdx=0,e}toString(){const t=[];for(const s of this.rawtext)"text"in s&&t.length&&"text"in t[t.length-1]?t[t.length-1].text+=s.text:t.push(s);const e=this.rawtext;this.rawtext=t;const n=JSON.stringify(this);return this.rawtext=e,n}print(t){a.run(()=>t.isValid?t.runCommand(`tellraw @s ${this.toString()}`):void 0)}printError(t){this.prepend("text","\xA7c").print(t)}}export{r as RawText};
