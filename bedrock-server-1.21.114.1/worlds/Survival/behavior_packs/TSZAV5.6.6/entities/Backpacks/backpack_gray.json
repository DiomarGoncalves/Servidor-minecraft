{
   "format_version":"1.21.0",
   "minecraft:entity":{
      "description":{
         "identifier":"true:backpack_gray",
         "spawn_category":"creature",
         "is_spawnable":false,
         "is_summonable":true
      },
      "component_groups":{
         "true:default":{
            "minecraft:type_family":{
               "family":[
                  "parrot_tame"
               ]
            },
            "minecraft:tameable":{
               "probability":1.00,
               "tame_items":"true:padlock",
               "tame_event":{
                  "event":"minecraft:on_tame",
                  "target":"self"
               }
            },
            "minecraft:inventory":{
               "container_type":"container",
               "private":false,
               "inventory_size":27,
               "restrict_to_owner":false
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"is_family",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":"player"
                              },
                              {
                                 "test":"is_sneak_held",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              }
                           ]
                        },
                        "event":"true:pick_up",
                        "target":"self"
                     },
                     "use_item":false,
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            }
         },
         "true:wearing_backpack":{
            "minecraft:type_family":{
               "family":[
                  "parrot_tame"
               ]
            },
            "minecraft:inventory":{
               "container_type":"container",
               "private":false,
               "inventory_size":27,
               "restrict_to_owner":false
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"is_family",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":"player"
                              },
                              {
                                 "test":"is_sneak_held",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              }
                           ]
                        },
                        "event":"true:pick_up",
                        "target":"self"
                     },
                     "use_item":false,
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            },
            "minecraft:environment_sensor":{
               "triggers":[
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"is_sneak_held",
                              "subject":"other",
                              "operator":"equals",
                              "value":true
                           },
                           {
                              "test":"on_ground",
                              "subject":"other",
                              "operator":"equals",
                              "value":false
                           },
                           {
                              "test":"is_moving",
                              "subject":"other",
                              "operator":"equals",
                              "value":false
                           }
                        ]
                     },
                     "event":"true:backpack_off"
                  },
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"in_water",
                              "subject":"self",
                              "operator":"equals",
                              "value":true
                           }
                        ]
                     },
                     "event":"true:swimming"
                  }
               ]
            }
         },
         "true:default_tame":{
            "minecraft:type_family":{
               "family":[
                  "parrot_tame"
               ]
            },
            "minecraft:is_tamed":{
               
            },
            "minecraft:inventory":{
               "container_type":"container",
               "private":false,
               "inventory_size":27,
               "restrict_to_owner":true
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"is_family",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":"player"
                              },
                              {
                                 "test":"is_sneak_held",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              }
                           ]
                        },
                        "event":"true:pick_up_tame",
                        "target":"self"
                     },
                     "use_item":false,
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            }
         },
         "true:wearing_backpack_tame":{
            "minecraft:type_family":{
               "family":[
                  "parrot_tame"
               ]
            },
            "minecraft:is_tamed":{
               
            },
            "minecraft:inventory":{
               "container_type":"container",
               "private":false,
               "inventory_size":27,
               "restrict_to_owner":true
            },
            "minecraft:interact":{
               "interactions":[
                  {
                     "on_interact":{
                        "filters":{
                           "all_of":[
                              {
                                 "test":"is_owner",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              },
                              {
                                 "test":"is_sneak_held",
                                 "subject":"other",
                                 "operator":"==",
                                 "value":true
                              }
                           ]
                        },
                        "event":"true:pick_up_tame",
                        "target":"self"
                     },
                     "use_item":false,
                     "interact_text":"action.interact.pick_up"
                  }
               ]
            },
            "minecraft:environment_sensor":{
               "triggers":[
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"is_sneak_held",
                              "subject":"other",
                              "operator":"equals",
                              "value":true
                           },
                           {
                              "test":"on_ground",
                              "subject":"other",
                              "operator":"equals",
                              "value":false
                           },
                           {
                              "test":"is_moving",
                              "subject":"other",
                              "operator":"equals",
                              "value":false
                           }
                        ]
                     },
                     "event":"true:backpack_off_tame"
                  },
                  {
                     "filters":{
                        "all_of":[
                           {
                              "test":"in_water",
                              "subject":"self",
                              "operator":"equals",
                              "value":true
                           }
                        ]
                     },
                     "event":"true:swimming"
                  }
               ]
            }
         }
      },
      "components":{
         "minecraft:collision_box":{
            "height":0.6,
            "width":0.6
         },
         "minecraft:nameable":{
            
         },
         "minecraft:health":{
            "value":100,
            "max":100
         },
         "minecraft:movement.basic":{
            
         },
         "minecraft:movement":{
            "value":0.0
         },
         "minecraft:damage_sensor":{
            "triggers":[
               {
                  "cause":"suffocation",
                  "deals_damage":false
               },
               {
                  "cause":"freezing",
                  "deals_damage":false
               },
               {
                  "cause":"wither",
                  "deals_damage":false
               },
               {
                  "cause":"stalactite",
                  "deals_damage":false
               },
               {
                  "cause":"stalagmite",
                  "deals_damage":false
               },
               {
                  "cause":"thorns",
                  "deals_damage":false
               },
               {
                  "cause":"projectile",
                  "deals_damage":false
               },
               {
                  "cause":"entity_attack",
                  "deals_damage":false
               },
               {
                  "cause":"entity_explosion",
                  "deals_damage":false
               },
               {
                  "cause":"block_explosion",
                  "deals_damage":false
               },
               {
                  "cause":"lightning",
                  "deals_damage":false
               },
               {
                  "cause":"magic",
                  "deals_damage":false
               },
               {
                  "cause":"falling_block",
                  "deals_damage":false
               }
            ]
         },
         "minecraft:physics":{
            "has_collision":true,
            "has_gravity":true
         }
      },
      "events":{
         "minecraft:entity_spawned":{
            "add":{
               "component_groups":[
                  "true:default"
               ]
            }
         },
         "true:pick_up":{
            "add":{
               "component_groups":[
                  "true:wearing_backpack"
               ]
            },
            "remove":{
               "component_groups":[
                  "true:default"
               ]
            },
            "queue_command":{
               "command":[
                  "ride @e[type=true:backpack_gray,r=1] start_riding @p teleport_rider if_group_fits"
               ]
            }
         },
         "true:backpack_off":{
            "add":{
               "component_groups":[
                  "true:default"
               ]
            },
            "remove":{
               "component_groups":[
                  "true:wearing_backpack"
               ]
            },
            "queue_command":{
               "command":[
                  "ride @e[type=true:backpack_gray,r=1] stop_riding"
               ]
            }
         },
         "minecraft:on_tame":{
            "add":{
               "component_groups":[
                  "true:default_tame"
               ]
            }
         },
         "true:pick_up_tame":{
            "add":{
               "component_groups":[
                  "true:wearing_backpack_tame"
               ]
            },
            "remove":{
               "component_groups":[
                  "true:default_tame"
               ]
            },
            "queue_command":{
               "command":[
                  "ride @e[type=true:backpack_gray,r=1] start_riding @p teleport_rider if_group_fits"
               ]
            }
         },
         "true:backpack_off_tame":{
            "add":{
               "component_groups":[
                  "true:default_tame"
               ]
            },
            "remove":{
               "component_groups":[
                  "true:wearing_backpack_tame"
               ]
            },
            "queue_command":{
               "command":[
                  "ride @e[type=true:backpack_gray,r=1] stop_riding"
               ]
            }
         },
         "true:swimming":{
            "queue_command":{
               "command":[
                  "playanimation @s wearing_in_water"
               ]
            }
         }
      }
   }
}